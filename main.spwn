extract import "./chip.spwn"
import core

cpf = 8

mut chip = @chip::new(none, true)
mut failure = false

$.print("\u{1b}[2J \u{1b}[H")

while failure == false {
    for _ in 0..cpf {
        state = chip.cycle()
    }
    chip.dec_timers()
    if chip.update { chip.draw() }
}
