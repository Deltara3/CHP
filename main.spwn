extract import "./chip.spwn"

cpf = 8

mut chip = @chip::new()
mut failure = false

while failure == false {
    for _ in 0..cpf {
        state = chip.cycle()
    }
    chip.dec_timers()
    if chip.update { chip.draw() }
}